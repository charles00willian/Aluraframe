{"version":3,"sources":["../../app-es6/models/Negociacao.js"],"names":["Negociacao","data","quantidade","valor","_data","Date","getTime","_quantidade","_valor","Object","freeze","outraNegociacao","JSON","stringify"],"mappings":";;;;;;AAAA;AACA;IACMA,U;AACF,wBAAYC,IAAZ,EAAkBC,UAAlB,EAA8BC,KAA9B,EAAqC;AAAA;;AACjC;AACA;AACA,aAAKC,KAAL,GAAa,IAAIC,IAAJ,CAASJ,KAAKK,OAAL,EAAT,CAAb,CAHiC,CAGK;AACtC,aAAKC,WAAL,GAAmBL,UAAnB;AACA,aAAKM,MAAL,GAAcL,KAAd;;AAEA;AACAM,eAAOC,MAAP,CAAc,IAAd;AACA;AACA;AACA;AACH;AACD;;;;;gCAeQC,e,EAAiB;AACrB,mBAAOC,KAAKC,SAAL,CAAe,IAAf,KAAwBD,KAAKC,SAAL,CAAeF,eAAf,CAA/B;AACH;;;4BAhBY;AACT,mBAAO,KAAKH,MAAL,GAAc,KAAKD,WAA1B;AACH;;;4BACU;AACP;AACA,mBAAO,IAAIF,IAAJ,CAAS,KAAKD,KAAL,CAAWE,OAAX,EAAT,CAAP;AACH;;;4BACgB;AACb,mBAAO,KAAKC,WAAZ;AACH;;;4BACW;AACR,mBAAO,KAAKC,MAAZ;AACH","file":"Negociacao.js","sourcesContent":["//A classe define o que é uma negociação\n//Classes com constructor só podem ser criadas com New\nclass Negociacao {\n    constructor(data, quantidade, valor) {\n        //Javascript ainda não permite alterar os modificadores de acesso,\n        //por isso utilizamos como convenção o underscore para identificar itens que só podem ser acessados pela própria classe\n        this._data = new Date(data.getTime());//Programação defensiva para evitar alterações na propriedade\n        this._quantidade = quantidade;\n        this._valor = valor;\n\n        //Solução paliativa para mater as propriedades da classe como privadas...\n        Object.freeze(this);\n        //... ou quase, ele so congela as propriedades rasas da classe, não é um deep freeze,\n        // se tentarmos, por exemplo, \"data = this.data.setDate(12)\" funcionará.\n        //Resolveremos esse problema com programação defensiva\n    }\n    // Para não utilizarmos métodos privados, encapsulamos em getters & setters\n    get volume() {\n        return this._valor * this._quantidade;\n    }\n    get data() {\n        //Aplicando programação defensiva, faremos o \"get data()\" apontar para outra referência\n        return new Date(this._data.getTime());\n    }\n    get quantidade() {\n        return this._quantidade;\n    }\n    get valor() {\n        return this._valor;\n    }\n    \n    isEqual(outraNegociacao) {        \n        return JSON.stringify(this) == JSON.stringify(outraNegociacao)\n    }\n}"]}